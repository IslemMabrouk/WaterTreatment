<section class="text-center bg-light">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <mat-card style="width: 1200px; margin-left: -130px;">
                <div class=" border-color-9 p-3 p-sm-6 radius-secondary">
                    <mat-tab-group mat-align-tabs="center" >
                          
                        <mat-tab label="Demande">

                          <div *ngIf="!dmd" style="margin-top: 50px; font-size: 17px;">  
                            Vous n'avez aucune demande
                          </div>

                          <table *ngIf="dmd"  mat-table [dataSource]="myDemande" class="mat-elevation-z8" style="width:1000px; margin-top: 50px; margin-left: 20px; " >

                            <!--- Note that these columns can be defined in any order.
                                  The actual rendered columns are set as a property on the row definition" -->
                          
                            <!-- Position Column -->
                            <ng-container matColumnDef="validation" >
                              <th mat-header-cell *matHeaderCellDef style="text-align: center;"> <b> Type</b> </th>
                              <td mat-cell *matCellDef="let element"> {{element.validation}} </td>
                            </ng-container>
                          
                            <!-- Name Column -->
                            <ng-container matColumnDef="idProduct" >
                              <th mat-header-cell *matHeaderCellDef style="text-align: center;" ><b>Produit</b>  </th>
                              <td mat-cell *matCellDef="let element" > {{element.product}} </td>
                            </ng-container>
                          
                            <!-- Weight Column -->
                            <ng-container matColumnDef="etat">
                              <th mat-header-cell *matHeaderCellDef  > <b>Etat</b>  </th>
                              <td mat-cell *matCellDef="let element"    >
                                <mat-chip-list  >
                                  <mat-chip style="text-align: center; height: 40px; width: 73px;"  color="{{ element.etat == 'Traitée' ? 'primary' : ( element.etat == 'En attente' ? 'warn' : 'warn' ) }}" selected >
                                    {{element.etat}}
                                  </mat-chip>
                                </mat-chip-list>
                                 </td>
                             
                            </ng-container>

                                                   <!-- Symbol Column -->
                          <ng-container matColumnDef="actions" >
                            <th mat-header-cell *matHeaderCellDef style="text-align: center;"> <b>Actions</b>  </th>
                            <td mat-cell *matCellDef="let element"  >  
                              <button mat-mini-fab color='warn' aria-label="Example icon button with a filter list icon"  [disabled]="element.etat == 'Traitée'" style="margin-left: 15px;" (click)="deleteDemande(element._id)">
                                <mat-icon   type='button'   >delete</mat-icon>
                              </button>       
                                                    </td>
                          </ng-container>

                           

                            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                          </table>
                              
                        </mat-tab>
                        <mat-tab label="RDV">  

                          <div *ngIf="!rdv" style="margin-top: 50px; font-size: 17px;">  
                            Vous n'avez aucun RDV
                          </div>

                          <table *ngIf="rdv" mat-table [dataSource]="myContacts" class="mat-elevation-z8" style="width:1000px; margin-top: 50px; margin-left: 20px; " >

                            <!--- Note that these columns can be defin=ed in any order.
                                  The actual rendered columns are set as a property on the row definition" -->
                          
                            <!-- Position Column -->
                            <ng-container matColumnDef="validation" >
                              <th mat-header-cell *matHeaderCellDef style="text-align: center;"> <b> Type</b> </th>
                              <td mat-cell *matCellDef="let element"> {{element.type}} </td>
                            </ng-container>
                          
                            <!-- Name Column -->
                            <ng-container matColumnDef="idProduct" >
                              <th mat-header-cell *matHeaderCellDef style="text-align: center;" > <b>Date</b>  </th>
                              <td mat-cell *matCellDef="let element" > {{element.date | date:'medium'}} </td>
                            </ng-container>
                          
                            <!-- Weight Column -->
                            <ng-container matColumnDef="etat">
                              <th mat-header-cell *matHeaderCellDef style="text-align: center;" > <b>Etat</b>  </th>
                              <td mat-cell *matCellDef="let element"    >
                                <mat-chip-list  >
                                  <mat-chip style="text-align: center; height: 40px; width: 73px;"  color="{{ element.etat == 'Traitée' ? 'primary' : ( element.etat == 'En attente' ? 'warn' : 'warn' ) }}" selected >
                                    {{element.etat}}
                                  </mat-chip>
                                </mat-chip-list>
                                 </td>
                            </ng-container>

                             <!-- Weight Column -->
                                                   <!-- Symbol Column -->
                             <ng-container matColumnDef="actions">
                               <th mat-header-cell *matHeaderCellDef style="text-align: center;"> <b>Actions </b> </th>
                               <td mat-cell *matCellDef="let element"  > 
                                <button mat-mini-fab color="basic" aria-label="Example icon button with a filter list icon" [disabled]="element.etat == 'Traitée'"  (click)="editMyContact(element._id)">
                                  <mat-icon  type='button'    >edit</mat-icon>
                                </button>
                                <button mat-mini-fab color='warn' aria-label="Example icon button with a filter list icon"  [disabled]="element.etat == 'Traitée'" style="margin-left: 15px;"  (click)="deleteMyContact(element._id)">
                                  <mat-icon  type='button'    >delete</mat-icon>
                                </button>
                               </td>
                             </ng-container>

                          
                           

                            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                          </table>

                      </mat-tab>
                    </mat-tab-group>



                </div>
            </mat-card>
            </div>
        </div>
        <!--/.row-->
    </div>
    <!--/.container-->
</section>


